{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<img src=\"http://dask.readthedocs.io/en/latest/_images/dask_horizontal.svg\" \n",
    "     width=\"30%\" \n",
    "     align=right\n",
    "     alt=\"Dask logo\">\n",
    "\n",
    "# Embarrassingly parallel Workloads\n",
    "\n",
    "This notebook shows how to use Dask to parallelize embarrassingly parallel workloads where you want to apply one function to many pieces of data independently.  It will show three different ways of doing this with Dask:\n",
    "\n",
    "1. [dask.delayed](http://dask.pydata.org/en/latest/delayed.html) \n",
    "2. [concurrent.Futures](https://dask.pydata.org/en/latest/futures.html) \n",
    "3. [dask.bag](https://dask.pydata.org/en/latest/bag.html)\n",
    "\n",
    "This example focuses on using Dask for building large embarrassingly parallel computation as often seen in scientific communities and on High Performance Computing facilities, for example with Monte Carlo methods. This kind of simulation assume the following:\n",
    "\n",
    " - We have a function that runs a heavy computation given some parameters.\n",
    " - We need to compute this function on many different input parameters, each function call being independent.\n",
    " - We want to gather all the results in one place for further analysis."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Start Dask Client for Dashboard\n",
    "\n",
    "Starting the Dask Client will provide a dashboard which \n",
    "is useful to gain insight on the computation.  We will also need it for the\n",
    "Futures API part of this example. Moreover, as this kind of computation\n",
    "is often launched on super computer or in the Cloud, you will probably end\n",
    "up having to start a cluster and connect a client to scale.  See \n",
    "[dask-jobqueue](https://github.com/dask/dask-jobqueue),\n",
    "[dask-kubernetes](https://github.com/dask/dask-kubernetes) or \n",
    "[dask-yarn](https://github.com/dask/dask-yarn) for easy ways to achieve this\n",
    "on respectively an HPC, Cloud or Big Data infrastructure.\n",
    "\n",
    "The link to the dashboard will become visible when you create the client below.  We recommend having it open on one side of your screen while using your notebook on the other side.  This can take some effort to arrange your windows, but seeing them both at the same time is very useful when learning."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:52.730788Z",
     "iopub.status.busy": "2022-06-17T02:41:52.730222Z",
     "iopub.status.idle": "2022-06-17T02:41:54.859157Z",
     "shell.execute_reply": "2022-06-17T02:41:54.858423Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "    <div style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\"> </div>\n",
       "    <div style=\"margin-left: 48px;\">\n",
       "        <h3 style=\"margin-bottom: 0px;\">Client</h3>\n",
       "        <p style=\"color: #9D9D9D; margin-bottom: 0px;\">Client-0bbd5edf-ede7-11ec-9f13-000d3a5c8937</p>\n",
       "        <table style=\"width: 100%; text-align: left;\">\n",
       "\n",
       "        <tr>\n",
       "        \n",
       "            <td style=\"text-align: left;\"><strong>Connection method:</strong> Cluster object</td>\n",
       "            <td style=\"text-align: left;\"><strong>Cluster type:</strong> distributed.LocalCluster</td>\n",
       "        \n",
       "        </tr>\n",
       "\n",
       "        \n",
       "            <tr>\n",
       "                <td style=\"text-align: left;\">\n",
       "                    <strong>Dashboard: </strong> <a href=\"http://127.0.0.1:8787/status\" target=\"_blank\">http://127.0.0.1:8787/status</a>\n",
       "                </td>\n",
       "                <td style=\"text-align: left;\"></td>\n",
       "            </tr>\n",
       "        \n",
       "\n",
       "        </table>\n",
       "\n",
       "        \n",
       "            <details>\n",
       "            <summary style=\"margin-bottom: 20px;\"><h3 style=\"display: inline;\">Cluster Info</h3></summary>\n",
       "            <div class=\"jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output\">\n",
       "    <div style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\">\n",
       "    </div>\n",
       "    <div style=\"margin-left: 48px;\">\n",
       "        <h3 style=\"margin-bottom: 0px; margin-top: 0px;\">LocalCluster</h3>\n",
       "        <p style=\"color: #9D9D9D; margin-bottom: 0px;\">9e618403</p>\n",
       "        <table style=\"width: 100%; text-align: left;\">\n",
       "            <tr>\n",
       "                <td style=\"text-align: left;\">\n",
       "                    <strong>Dashboard:</strong> <a href=\"http://127.0.0.1:8787/status\" target=\"_blank\">http://127.0.0.1:8787/status</a>\n",
       "                </td>\n",
       "                <td style=\"text-align: left;\">\n",
       "                    <strong>Workers:</strong> 1\n",
       "                </td>\n",
       "            </tr>\n",
       "            <tr>\n",
       "                <td style=\"text-align: left;\">\n",
       "                    <strong>Total threads:</strong> 4\n",
       "                </td>\n",
       "                <td style=\"text-align: left;\">\n",
       "                    <strong>Total memory:</strong> 6.78 GiB\n",
       "                </td>\n",
       "            </tr>\n",
       "            \n",
       "            <tr>\n",
       "    <td style=\"text-align: left;\"><strong>Status:</strong> running</td>\n",
       "    <td style=\"text-align: left;\"><strong>Using processes:</strong> True</td>\n",
       "</tr>\n",
       "\n",
       "            \n",
       "        </table>\n",
       "\n",
       "        <details>\n",
       "            <summary style=\"margin-bottom: 20px;\">\n",
       "                <h3 style=\"display: inline;\">Scheduler Info</h3>\n",
       "            </summary>\n",
       "\n",
       "            <div style=\"\">\n",
       "    <div>\n",
       "        <div style=\"width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;\"> </div>\n",
       "        <div style=\"margin-left: 48px;\">\n",
       "            <h3 style=\"margin-bottom: 0px;\">Scheduler</h3>\n",
       "            <p style=\"color: #9D9D9D; margin-bottom: 0px;\">Scheduler-0650b5d9-ba47-4dd3-af2d-3cedba1626d9</p>\n",
       "            <table style=\"width: 100%; text-align: left;\">\n",
       "                <tr>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Comm:</strong> tcp://127.0.0.1:36101\n",
       "                    </td>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Workers:</strong> 1\n",
       "                    </td>\n",
       "                </tr>\n",
       "                <tr>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Dashboard:</strong> <a href=\"http://127.0.0.1:8787/status\" target=\"_blank\">http://127.0.0.1:8787/status</a>\n",
       "                    </td>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Total threads:</strong> 4\n",
       "                    </td>\n",
       "                </tr>\n",
       "                <tr>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Started:</strong> Just now\n",
       "                    </td>\n",
       "                    <td style=\"text-align: left;\">\n",
       "                        <strong>Total memory:</strong> 6.78 GiB\n",
       "                    </td>\n",
       "                </tr>\n",
       "            </table>\n",
       "        </div>\n",
       "    </div>\n",
       "\n",
       "    <details style=\"margin-left: 48px;\">\n",
       "        <summary style=\"margin-bottom: 20px;\">\n",
       "            <h3 style=\"display: inline;\">Workers</h3>\n",
       "        </summary>\n",
       "\n",
       "        \n",
       "        <div style=\"margin-bottom: 20px;\">\n",
       "            <div style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"> </div>\n",
       "            <div style=\"margin-left: 48px;\">\n",
       "            <details>\n",
       "                <summary>\n",
       "                    <h4 style=\"margin-bottom: 0px; display: inline;\">Worker: 0</h4>\n",
       "                </summary>\n",
       "                <table style=\"width: 100%; text-align: left;\">\n",
       "                    <tr>\n",
       "                        <td style=\"text-align: left;\">\n",
       "                            <strong>Comm: </strong> tcp://127.0.0.1:35161\n",
       "                        </td>\n",
       "                        <td style=\"text-align: left;\">\n",
       "                            <strong>Total threads: </strong> 4\n",
       "                        </td>\n",
       "                    </tr>\n",
       "                    <tr>\n",
       "                        <td style=\"text-align: left;\">\n",
       "                            <strong>Dashboard: </strong> <a href=\"http://127.0.0.1:39811/status\" target=\"_blank\">http://127.0.0.1:39811/status</a>\n",
       "                        </td>\n",
       "                        <td style=\"text-align: left;\">\n",
       "                            <strong>Memory: </strong> 6.78 GiB\n",
       "                        </td>\n",
       "                    </tr>\n",
       "                    <tr>\n",
       "                        <td style=\"text-align: left;\">\n",
       "                            <strong>Nanny: </strong> tcp://127.0.0.1:44033\n",
       "                        </td>\n",
       "                        <td style=\"text-align: left;\"></td>\n",
       "                    </tr>\n",
       "                    <tr>\n",
       "                        <td colspan=\"2\" style=\"text-align: left;\">\n",
       "                            <strong>Local directory: </strong> /home/runner/work/dask-examples/dask-examples/applications/dask-worker-space/worker-jtwkibh3\n",
       "                        </td>\n",
       "                    </tr>\n",
       "\n",
       "                    \n",
       "\n",
       "                    \n",
       "\n",
       "                </table>\n",
       "            </details>\n",
       "            </div>\n",
       "        </div>\n",
       "        \n",
       "\n",
       "    </details>\n",
       "</div>\n",
       "\n",
       "        </details>\n",
       "    </div>\n",
       "</div>\n",
       "            </details>\n",
       "        \n",
       "\n",
       "    </div>\n",
       "</div>"
      ],
      "text/plain": [
       "<Client: 'tcp://127.0.0.1:36101' processes=1 threads=4, memory=6.78 GiB>"
      ]
     },
     "execution_count": 1,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from dask.distributed import Client, progress\n",
    "client = Client(threads_per_worker=4, n_workers=1)\n",
    "client"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Define your computation calling function\n",
    "\n",
    "This function does a simple operation: add all numbers of a list/array together, but it also sleeps for a random amount of time to simulate real work. In real use cases, this could call another python module, or even run an executable using subprocess module."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:54.862926Z",
     "iopub.status.busy": "2022-06-17T02:41:54.862367Z",
     "iopub.status.idle": "2022-06-17T02:41:54.866953Z",
     "shell.execute_reply": "2022-06-17T02:41:54.866246Z"
    }
   },
   "outputs": [],
   "source": [
    "import time\n",
    "import random\n",
    "\n",
    "def costly_simulation(list_param):\n",
    "    time.sleep(random.random())\n",
    "    return sum(list_param)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We try it locally below"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:54.870499Z",
     "iopub.status.busy": "2022-06-17T02:41:54.870309Z",
     "iopub.status.idle": "2022-06-17T02:41:55.788738Z",
     "shell.execute_reply": "2022-06-17T02:41:55.788028Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 18.3 ms, sys: 6.42 ms, total: 24.7 ms\n",
      "Wall time: 912 ms\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "10"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%time costly_simulation([1, 2, 3, 4])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Define the set of input parameters to call the function\n",
    "\n",
    "We will generate a set of inputs on which we want to run our simulation function. Here we use Pandas dataframe, but we could also use a simple list. Lets say that our simulation is run with four parameters called param_[a-d]."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:55.792648Z",
     "iopub.status.busy": "2022-06-17T02:41:55.792281Z",
     "iopub.status.idle": "2022-06-17T02:41:55.811028Z",
     "shell.execute_reply": "2022-06-17T02:41:55.810289Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>param_a</th>\n",
       "      <th>param_b</th>\n",
       "      <th>param_c</th>\n",
       "      <th>param_d</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.949074</td>\n",
       "      <td>0.085138</td>\n",
       "      <td>0.715043</td>\n",
       "      <td>0.111679</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.645174</td>\n",
       "      <td>0.962866</td>\n",
       "      <td>0.789446</td>\n",
       "      <td>0.771713</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.718168</td>\n",
       "      <td>0.213801</td>\n",
       "      <td>0.526687</td>\n",
       "      <td>0.094345</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.941479</td>\n",
       "      <td>0.792191</td>\n",
       "      <td>0.782025</td>\n",
       "      <td>0.530216</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.182262</td>\n",
       "      <td>0.952322</td>\n",
       "      <td>0.199033</td>\n",
       "      <td>0.068532</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    param_a   param_b   param_c   param_d\n",
       "0  0.949074  0.085138  0.715043  0.111679\n",
       "1  0.645174  0.962866  0.789446  0.771713\n",
       "2  0.718168  0.213801  0.526687  0.094345\n",
       "3  0.941479  0.792191  0.782025  0.530216\n",
       "4  0.182262  0.952322  0.199033  0.068532"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "\n",
    "input_params = pd.DataFrame(np.random.random(size=(500, 4)),\n",
    "                            columns=['param_a', 'param_b', 'param_c', 'param_d'])\n",
    "input_params.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Without using Dask, we could call our simulation on all of these parameters using normal Python for loops.\n",
    "\n",
    "Let's only do this on a sample of our parameters as it would be quite long otherwise."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:55.814687Z",
     "iopub.status.busy": "2022-06-17T02:41:55.814340Z",
     "iopub.status.idle": "2022-06-17T02:41:55.819378Z",
     "shell.execute_reply": "2022-06-17T02:41:55.818685Z"
    }
   },
   "outputs": [],
   "source": [
    "results = []"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:41:55.822339Z",
     "iopub.status.busy": "2022-06-17T02:41:55.822000Z",
     "iopub.status.idle": "2022-06-17T02:42:01.285658Z",
     "shell.execute_reply": "2022-06-17T02:42:01.285043Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 126 ms, sys: 22.8 ms, total: 148 ms\n",
      "Wall time: 5.46 s\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "for parameters in input_params.values[:10]:\n",
    "    result = costly_simulation(parameters)\n",
    "    results.append(result)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:01.289557Z",
     "iopub.status.busy": "2022-06-17T02:42:01.288952Z",
     "iopub.status.idle": "2022-06-17T02:42:01.294429Z",
     "shell.execute_reply": "2022-06-17T02:42:01.293678Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[1.8609339810940204,\n",
       " 3.169199585814013,\n",
       " 1.5530007621429853,\n",
       " 3.04591043577136,\n",
       " 1.4021492800859785,\n",
       " 3.031197306240682,\n",
       " 2.062415597863017,\n",
       " 2.719627512821705,\n",
       " 3.109354401229262,\n",
       " 1.9488458651676468]"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Note that this is not very clever as we can easily parallelize code. \n",
    "\n",
    "There are many ways to parallelize this function in Python with libraries like `multiprocessing`, `concurrent.futures`, `joblib` or others.  These are good first steps.  Dask is a good second step, especially when you want to scale across many machines.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Use [Dask Delayed](http://dask.pydata.org/en/latest/delayed.html) to make our function lazy\n",
    "\n",
    "We can call `dask.delayed` on our funtion to make it lazy.  Rather than compute its result immediately, it records what we want to compute as a task into a graph that we'll run later on parallel hardware. Using `dask.delayed` is a relatively straightforward way to parallelize an existing code base, even if the computation isn't embarrassingly parallel like this one. \n",
    "\n",
    "Calling these lazy functions is now almost free.  In the cell below we only construct a simple graph."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:01.297811Z",
     "iopub.status.busy": "2022-06-17T02:42:01.297574Z",
     "iopub.status.idle": "2022-06-17T02:42:01.300926Z",
     "shell.execute_reply": "2022-06-17T02:42:01.300226Z"
    }
   },
   "outputs": [],
   "source": [
    "import dask\n",
    "lazy_results = []"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:01.304299Z",
     "iopub.status.busy": "2022-06-17T02:42:01.303530Z",
     "iopub.status.idle": "2022-06-17T02:42:01.309828Z",
     "shell.execute_reply": "2022-06-17T02:42:01.309125Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 1.99 ms, sys: 0 ns, total: 1.99 ms\n",
      "Wall time: 1.59 ms\n"
     ]
    }
   ],
   "source": [
    "%%time\n",
    "\n",
    "for parameters in input_params.values[:10]:\n",
    "    lazy_result = dask.delayed(costly_simulation)(parameters)\n",
    "    lazy_results.append(lazy_result)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:01.313405Z",
     "iopub.status.busy": "2022-06-17T02:42:01.313079Z",
     "iopub.status.idle": "2022-06-17T02:42:01.317863Z",
     "shell.execute_reply": "2022-06-17T02:42:01.317050Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Delayed('costly_simulation-f950a17c-45bf-4dbc-a76c-bff3c1b7623d')"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lazy_results[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Run in parallel\n",
    "\n",
    "The `lazy_results` list contains information about ten calls to `costly_simulation` that have not yet been run.  Call `.compute()` when you want your result as normal Python objects.\n",
    "\n",
    "If you started `Client()` above then you may want to watch the status page during computation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:01.321153Z",
     "iopub.status.busy": "2022-06-17T02:42:01.320840Z",
     "iopub.status.idle": "2022-06-17T02:42:03.028315Z",
     "shell.execute_reply": "2022-06-17T02:42:03.027607Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 215 ms, sys: 55.1 ms, total: 270 ms\n",
      "Wall time: 1.7 s\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "(1.8609339810940204,\n",
       " 3.169199585814013,\n",
       " 1.5530007621429853,\n",
       " 3.04591043577136,\n",
       " 1.4021492800859785,\n",
       " 3.031197306240682,\n",
       " 2.062415597863017,\n",
       " 2.719627512821705,\n",
       " 3.109354401229262,\n",
       " 1.9488458651676468)"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "%time dask.compute(*lazy_results)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Notice that this was faster than running these same computations sequentially with a for loop.  "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We can now run this on all of our input parameters:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:03.032441Z",
     "iopub.status.busy": "2022-06-17T02:42:03.031865Z",
     "iopub.status.idle": "2022-06-17T02:42:03.178228Z",
     "shell.execute_reply": "2022-06-17T02:42:03.174898Z"
    }
   },
   "outputs": [],
   "source": [
    "import dask\n",
    "lazy_results = []\n",
    "\n",
    "for parameters in input_params.values:\n",
    "    lazy_result = dask.delayed(costly_simulation)(parameters)\n",
    "    lazy_results.append(lazy_result)\n",
    "    \n",
    "futures = dask.persist(*lazy_results)  # trigger computation in the background"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To make this go faster, we can add additional workers.\n",
    "\n",
    "(although we're still only working on our local machine, this is more practical when using an actual cluster)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:03.182024Z",
     "iopub.status.busy": "2022-06-17T02:42:03.181826Z",
     "iopub.status.idle": "2022-06-17T02:42:03.191378Z",
     "shell.execute_reply": "2022-06-17T02:42:03.190656Z"
    }
   },
   "outputs": [],
   "source": [
    "client.cluster.scale(10)  # ask for ten 4-thread workers"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "By looking at the Dask dashboard we can see that Dask spreads this work around our cluster, managing load balancing, dependencies, etc..\n",
    "\n",
    "Then get the result:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:03.194339Z",
     "iopub.status.busy": "2022-06-17T02:42:03.194145Z",
     "iopub.status.idle": "2022-06-17T02:42:14.919295Z",
     "shell.execute_reply": "2022-06-17T02:42:14.917692Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(1.8609339810940204,\n",
       " 3.169199585814013,\n",
       " 1.5530007621429853,\n",
       " 3.04591043577136,\n",
       " 1.4021492800859785)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results = dask.compute(*futures)\n",
    "results[:5]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Using the [Futures API](http://dask.pydata.org/en/latest/futures.html)\n",
    "\n",
    "The same example can be implemented using Dask's Futures API by using the `client` object itself.  For our use case of applying a function across many inputs both Dask delayed and Dask Futures are equally useful.  The Futures API is a little bit different because it starts work immediately rather than being completely lazy.\n",
    "\n",
    "For example, notice that work starts immediately in the cell below as we submit work to the cluster:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:14.923742Z",
     "iopub.status.busy": "2022-06-17T02:42:14.923164Z",
     "iopub.status.idle": "2022-06-17T02:42:16.748136Z",
     "shell.execute_reply": "2022-06-17T02:42:16.746948Z"
    }
   },
   "outputs": [],
   "source": [
    "futures = []\n",
    "for parameters in input_params.values:\n",
    "    future = client.submit(costly_simulation, parameters)\n",
    "    futures.append(future)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We can explicitly wait until this work is done and gather the results to our local process by calling `client.gather`:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:16.752694Z",
     "iopub.status.busy": "2022-06-17T02:42:16.752331Z",
     "iopub.status.idle": "2022-06-17T02:42:23.325927Z",
     "shell.execute_reply": "2022-06-17T02:42:23.325231Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[1.8609339810940204,\n",
       " 3.169199585814013,\n",
       " 1.5530007621429853,\n",
       " 3.04591043577136,\n",
       " 1.4021492800859785]"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results = client.gather(futures)\n",
    "results[:5]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "But the code above can be run in fewer lines with `client.map()` function, allowing to call a given function on a list of parameters.\n",
    "\n",
    "As for delayed, we can only start the computation and not wait for results by not calling `client.gather()` right now.\n",
    "\n",
    "It shall be noted that as Dask cluster has already performed tasks launching `costly_simulation` with Futures API on the given input parameters, the call to `client.map()` won't actually trigger any computation, and just retrieve already computed results."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:23.329294Z",
     "iopub.status.busy": "2022-06-17T02:42:23.328965Z",
     "iopub.status.idle": "2022-06-17T02:42:23.379506Z",
     "shell.execute_reply": "2022-06-17T02:42:23.378452Z"
    }
   },
   "outputs": [],
   "source": [
    "futures = client.map(costly_simulation, input_params.values)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then just get the results later:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:23.384639Z",
     "iopub.status.busy": "2022-06-17T02:42:23.383183Z",
     "iopub.status.idle": "2022-06-17T02:42:23.460040Z",
     "shell.execute_reply": "2022-06-17T02:42:23.459416Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "500"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results = client.gather(futures)\n",
    "len(results)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:23.463055Z",
     "iopub.status.busy": "2022-06-17T02:42:23.462704Z",
     "iopub.status.idle": "2022-06-17T02:42:23.468802Z",
     "shell.execute_reply": "2022-06-17T02:42:23.468112Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "1.8609339810940204\n"
     ]
    }
   ],
   "source": [
    "print(results[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We encourage you to watch the [dashboard's status page](http://127.0.0.1:8787) to watch on going computation."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Doing some analysis on the results\n",
    "\n",
    "One of the interests of Dask here, outside from API simplicity, is that you are able to gather the result for all your simulations in one call.  There is no need to implement a complex mechanism or to write individual results in a shared file system or object store.\n",
    "\n",
    "Just get your result, and do some computation."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Here, we will just get the results and expand our initial dataframe to have a nice view of parameters vs results for our computation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:23.472182Z",
     "iopub.status.busy": "2022-06-17T02:42:23.471869Z",
     "iopub.status.idle": "2022-06-17T02:42:23.488667Z",
     "shell.execute_reply": "2022-06-17T02:42:23.487801Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>param_a</th>\n",
       "      <th>param_b</th>\n",
       "      <th>param_c</th>\n",
       "      <th>param_d</th>\n",
       "      <th>result</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>143</th>\n",
       "      <td>0.891136</td>\n",
       "      <td>0.131153</td>\n",
       "      <td>0.553583</td>\n",
       "      <td>0.437645</td>\n",
       "      <td>2.013517</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>317</th>\n",
       "      <td>0.720915</td>\n",
       "      <td>0.683047</td>\n",
       "      <td>0.906609</td>\n",
       "      <td>0.812355</td>\n",
       "      <td>3.122925</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>432</th>\n",
       "      <td>0.259298</td>\n",
       "      <td>0.047953</td>\n",
       "      <td>0.027068</td>\n",
       "      <td>0.548826</td>\n",
       "      <td>0.883146</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>288</th>\n",
       "      <td>0.156946</td>\n",
       "      <td>0.567827</td>\n",
       "      <td>0.527450</td>\n",
       "      <td>0.955701</td>\n",
       "      <td>2.207924</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>119</th>\n",
       "      <td>0.247949</td>\n",
       "      <td>0.469834</td>\n",
       "      <td>0.544547</td>\n",
       "      <td>0.482041</td>\n",
       "      <td>1.744371</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "      param_a   param_b   param_c   param_d    result\n",
       "143  0.891136  0.131153  0.553583  0.437645  2.013517\n",
       "317  0.720915  0.683047  0.906609  0.812355  3.122925\n",
       "432  0.259298  0.047953  0.027068  0.548826  0.883146\n",
       "288  0.156946  0.567827  0.527450  0.955701  2.207924\n",
       "119  0.247949  0.469834  0.544547  0.482041  1.744371"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "output = input_params.copy()\n",
    "output['result'] = pd.Series(results, index=output.index)\n",
    "output.sample(5)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Then we can do some nice statistical plots or save result locally with pandas interface here"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:23.491396Z",
     "iopub.status.busy": "2022-06-17T02:42:23.491203Z",
     "iopub.status.idle": "2022-06-17T02:42:24.534920Z",
     "shell.execute_reply": "2022-06-17T02:42:24.534250Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:>"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "%matplotlib inline\n",
    "output['result'].plot()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:24.538079Z",
     "iopub.status.busy": "2022-06-17T02:42:24.537875Z",
     "iopub.status.idle": "2022-06-17T02:42:24.546245Z",
     "shell.execute_reply": "2022-06-17T02:42:24.545561Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "2.0122627625738008"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "output['result'].mean()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:24.549574Z",
     "iopub.status.busy": "2022-06-17T02:42:24.549237Z",
     "iopub.status.idle": "2022-06-17T02:42:24.562328Z",
     "shell.execute_reply": "2022-06-17T02:42:24.561633Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "256\n"
     ]
    }
   ],
   "source": [
    "filtered_output = output[output['result'] > 2]\n",
    "print(len(filtered_output))\n",
    "filtered_output.to_csv('/tmp/simulation_result.csv')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Handling very large simulation with [Bags](http://dask.pydata.org/en/latest/bag.html)\n",
    "\n",
    "The methods above work well for a size of input parameters up to about 100,000.  Above that, the Dask scheduler has trouble handling the amount of tasks to schedule to workers.  The solution to this problem is to bundle many parameters into a single task.\n",
    "You could do this either by making a new function that operated on a batch of parameters and using the delayed or futures APIs on that function.  You could also use the Dask Bag API.  This is described more in the documentation about [avoiding too many tasks](http://dask.pydata.org/en/latest/delayed-best-practices.html#avoid-too-many-tasks).\n",
    "\n",
    "Dask Bags hold onto large sequences in a few partitions.  We can convert our `input_params` sequence into a `dask.bag` collection, asking for fewer partitions (so at most 100,000, which is already huge), and apply our function on every item of the bag."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:24.565282Z",
     "iopub.status.busy": "2022-06-17T02:42:24.564967Z",
     "iopub.status.idle": "2022-06-17T02:42:24.581464Z",
     "shell.execute_reply": "2022-06-17T02:42:24.580822Z"
    }
   },
   "outputs": [],
   "source": [
    "import dask.bag as db\n",
    "b = db.from_sequence(list(input_params.values), npartitions=100)\n",
    "b = b.map(costly_simulation)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:24.584576Z",
     "iopub.status.busy": "2022-06-17T02:42:24.584207Z",
     "iopub.status.idle": "2022-06-17T02:42:33.586232Z",
     "shell.execute_reply": "2022-06-17T02:42:33.585410Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "CPU times: user 914 ms, sys: 160 ms, total: 1.07 s\n",
      "Wall time: 9 s\n"
     ]
    }
   ],
   "source": [
    "%time results_bag = b.compute()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Looking on Dashboard here, you should see only 100 tasks to run instead of 500, each taking 5x more time in average, because each one is actually calling our function 5 times."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-06-17T02:42:33.589899Z",
     "iopub.status.busy": "2022-06-17T02:42:33.589578Z",
     "iopub.status.idle": "2022-06-17T02:42:33.604875Z",
     "shell.execute_reply": "2022-06-17T02:42:33.604182Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.all(results) == np.all(results_bag)"
   ]
  }
 ],
 "metadata": {
  "anaconda-cloud": {},
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.12"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
